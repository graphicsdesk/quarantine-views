{"version":3,"sources":["../node_modules/enter-view/enter-view.min.js","../node_modules/text-balancer/text-balancer.js","../package.json","scripts/ai2html-resizer.js","scripts/page.js","script.js"],"names":["module","exports","name","version","description","scripts","start","build","test","postinstall","keywords","devDependencies","cssnano","googleapis","sass","dependencies","browserslist","spectate","USE_NEWS_NAV","USE_EYE_NAV","USE_COVER_HED","IS_EMBED","DOC_URL","resizer","elements","document","querySelectorAll","widthById","forEach","el","parent","parentNode","width","id","getBoundingClientRect","minwidth","getAttribute","maxwidth","style","display","init","documentElement","classList","contains","add","window","addEventListener","throttle","func","wait","options","timeout","context","args","result","previous","now","Date","getTime","later","leading","apply","throttled","_now","remaining","arguments","clearTimeout","trailing","setTimeout","isOnSpectatorPage","location","host","isOnContributorPage","pathname","indexOf","SECTION_MAIN_SELECTOR","ARTICLE_SELECTOR","hoistArticle","sectionMain","querySelector","article","replaceChild","suspectParagraph","firstElementChild","children","some","includes","tagName","margin","TRY_TIME","ready","timestamp","body","requestAnimationFrame","console","log","onload","spectateConfig","link","disabled","styleSheet","createElement","type","innerText","head","appendChild","navbar","getElementById","hamburgerTrigger","toggle","resizeSections","innerWidth","getElementsByClassName","height","selector","offset","enter","remove","exit","balanceText"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"../src","sourcesContent":["\"use strict\";!function(e){\"function\"==typeof define&&define.amd?define(e):\"undefined\"!=typeof module&&module.exports?module.exports=e():window.enterView=e.call(this)}(function(){var e=function(e){function n(){E=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)}}function t(){if(y&&\"number\"==typeof y){var e=Math.min(Math.max(0,y),1);return F-e*F}return F}function o(){var e=document.documentElement.clientHeight,n=window.innerHeight||0;F=Math.max(e,n)}function r(){L=!1;var e=t();M=M.filter(function(n){var t=n.getBoundingClientRect(),o=t.top,r=t.bottom,i=t.height,s=o<e,u=r<e;if(s&&!n.__ev_entered){if(m(n),n.__ev_progress=0,h(n,n.__ev_progress),q)return!1}else!s&&n.__ev_entered&&(n.__ev_progress=0,h(n,n.__ev_progress),g(n));if(s&&!u){var d=(e-o)/i;n.__ev_progress=Math.min(1,Math.max(0,d)),h(n,n.__ev_progress)}return s&&u&&1!==n.__ev_progress&&(n.__ev_progress=1,h(n,n.__ev_progress)),n.__ev_entered=s,!0}),M.length||window.removeEventListener(\"scroll\",i,!0)}function i(){L||(L=!0,E(r))}function s(){o(),r()}function u(){o(),r()}function d(e){for(var n=e.length,t=[],o=0;o<n;o+=1)t.push(e[o]);return t}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return\"string\"==typeof e?d(n.querySelectorAll(e)):e instanceof NodeList?d(e):e instanceof Array?e:void 0}function c(){M=f(v)}function a(){window.addEventListener(\"resize\",s,!0),window.addEventListener(\"scroll\",i,!0),window.addEventListener(\"load\",u,!0),s()}function _(){return v?(c(),M&&M.length?(n(),a(),void r()):(console.error(\"no selector elements found\"),!1)):(console.error(\"must pass a selector\"),!1)}var v=e.selector,l=e.enter,m=void 0===l?function(){}:l,w=e.exit,g=void 0===w?function(){}:w,p=e.progress,h=void 0===p?function(){}:p,x=e.offset,y=void 0===x?0:x,A=e.once,q=void 0!==A&&A,E=null,L=!1,M=[],F=0;_()};return e});","var candidates = [];\n\n// pass in a string of selectors to be balanced.\n// if you didnt specify any, thats ok! We'll just\n// balance anything with the balance-text class\nvar textBalancer = function (selectors) {\n\n    if (!selectors) {\n        candidates = document.querySelectorAll('.balance-text');\n    } else {\n        createSelectors(selectors);\n    }\n\n    balanceText();\n\n    var rebalanceText = debounce(function() {\n        balanceText();\n    }, 100);\n\n    window.addEventListener('resize', rebalanceText);\n}\n\n// this populates our candidates array with dom objects\n// that need to be balanced\nvar createSelectors = function(selectors) {\n    selectorArray = selectors.split(',');\n    for (var i = 0; i < selectorArray.length; i += 1) {\n        var currentSelectorElements = document.querySelectorAll(selectorArray[i].trim());\n\n        for (var j = 0; j < currentSelectorElements.length; j += 1) {\n            var currentSelectorElement = currentSelectorElements[j];\n            candidates.push(currentSelectorElement);\n        }\n    }\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nvar debounce = function (func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n};\n\n\n// HELPER FUNCTION -- initializes recursive binary search\nvar balanceText = function () {\n    var element;\n    var i;\n\n    for (i = 0; i < candidates.length; i += 1) {\n        element = candidates[i];\n\n        if (textElementIsMultipleLines(element)) {\n            element.style.maxWidth = '';\n            squeezeContainer(element, element.clientHeight, 0, element.clientWidth);\n        }\n\n    }\n\n}\n\n// Make the element as narrow as possible while maintaining its current height (number of lines). Binary search.\nvar squeezeContainer = function (element, originalHeight, bottomRange, topRange) {\n    var mid;\n    if (bottomRange >= topRange) {\n        element.style.maxWidth = topRange + 'px';\n        return;\n    }\n    mid = (bottomRange + topRange) / 2;\n    element.style.maxWidth = mid + 'px';\n\n    if (element.clientHeight > originalHeight) {\n        // we've squoze too far and element has spilled onto an additional line; recurse on wider range\n        squeezeContainer(element, originalHeight, mid+1, topRange);\n    } else {\n        // element has not wrapped to another line; keep squeezing!\n        squeezeContainer(element, originalHeight, bottomRange+1, mid);\n    }\n}\n\n// function to see if a headline is multiple lines\n// we only want to break if the headline is multiple lines\n//\n// We achieve this by turning the first word into a span\n// and then we compare the height of that span to the height\n// of the entire headline. If the headline is bigger than the\n// span by 10px we balance the headline.\nvar textElementIsMultipleLines = function (element) {\n    var firstWordHeight;\n    var elementHeight;\n    var HEIGHT_OFFSET;\n    var elementWords;\n    var firstWord;\n    var ORIGINAL_ELEMENT_TEXT;\n\n    ORIGINAL_ELEMENT_TEXT = element.innerHTML;\n\n    // usually there is around a 5px discrepency between\n    // the first word and the height of the whole headline\n    // so subtract the height of the headline by 10 px and\n    // we should be good\n    HEIGHT_OFFSET = 10;\n\n    // get all the words in the headline as\n    // an array -- will include punctuation\n    //\n    // this is used to put the headline back together\n    elementWords = element.innerHTML.split(' ');\n\n    // make span for first word and give it an id\n    // so we can access it in le dom\n    firstWord = document.createElement('span');\n    firstWord.id = 'element-first-word';\n    firstWord.innerHTML = elementWords[0];\n\n    // this is the entire headline\n    // as an array except for first word\n    //\n    // we will append it to the headline after the span\n    elementWords = elementWords.slice(1);\n\n    // empty the headline and append the span to it\n    element.innerHTML = '';\n    element.appendChild(firstWord);\n\n    // add the rest of the element back to it\n    element.innerHTML += ' ' + elementWords.join(' ');\n\n    // update the first word variable in the dom\n    firstWord = document.getElementById('element-first-word');\n\n    firstWordHeight = firstWord.offsetHeight;\n    elementHeight = element.offsetHeight;\n    // restore the original element text\n    element.innerHTML = ORIGINAL_ELEMENT_TEXT;\n\n    // compare the height of the element and the height of the first word\n    return elementHeight - HEIGHT_OFFSET > firstWordHeight;\n\n} // end headlineIsMultipleLines\n\nexports.balanceText = textBalancer;","module.exports={name:\"quarantine-views\",version:\"0.0.0\",description:\"\",scripts:{start:\"parcel src/index.html --global script\",build:\"parcel build src/index.html --global script --public-url . --no-content-hash\",test:'echo \"Error: no test specified\" && exit 1',postinstall:\"patch-package\"},keywords:[],devDependencies:{\"@newswire/doc-to-archieml\":\"^1.0.0\",cssnano:\"^4.1.10\",googleapis:\"^49.0.0\",\"parcel-bundler\":\"^1.12.4\",\"patch-package\":\"^6.2.0\",\"posthtml-expressions\":\"^1.1.1\",\"posthtml-include\":\"^1.4.0\",sass:\"^1.23.0\"},dependencies:{\"enter-view\":\"^2.0.0\",\"text-balancer\":\"^1.0.5\"},browserslist:[\"defaults\"],spectate:{USE_NEWS_NAV:!1,USE_EYE_NAV:!1,USE_COVER_HED:!1,IS_EMBED:!1,DOC_URL:\"https://docs.google.com/document/d/1aMy9YRWT76fYo5icGSMjCoOobKIVPxSN6ott8UvrntU/edit?usp=sharing\"}};","/**\n * Resizer script to toggle multiple artboards for responsiveness. Adapted from:\n * https://github.com/newsdev/ai2html/blob/gh-pages/_includes/resizer-script.html\n */\n\nfunction resizer() {\n  const elements = document.querySelectorAll('.g-artboard[data-min-width]');\n  const widthById = {};\n\n  elements.forEach(el => {\n    const parent = el.parentNode;\n    const width = widthById[parent.id] || parent.getBoundingClientRect().width;\n    const minwidth = el.getAttribute('data-min-width');\n    const maxwidth = el.getAttribute('data-max-width');\n\n    widthById[parent.id] = width;\n    if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {\n      el.style.display = 'block';\n    } else {\n      el.style.display = 'none';\n    }\n  });\n}\n\nfunction init() {\n  // only want one resizer on the page\n  if (document.documentElement.classList.contains('g-resizer-v3-init')) return;\n  document.documentElement.classList.add('g-resizer-v3-init');\n\n  resizer();\n  window.addEventListener('resize', throttle(resizer, 200));\n}\n\n// Export ai2html resizer initialization to page.js\nmodule.exports = init;\n\n/**\n * Throttle function adapted from underscore.js.\n *\n * Copyright (c) 2009-2020 Jeremy Ashkenas, DocumentCloud and Investigative\n * Reporters & Editors\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n * Terms\n */\n\nfunction throttle(func, wait, options = {}) {\n  let timeout, context, args, result;\n  let previous = 0;\n\n  const now = Date.now || (() => new Date().getTime());\n\n  const later = function () {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  const throttled = function () {\n    const _now = now();\n    if (!previous && options.leading === false) previous = _now;\n    const remaining = wait - (_now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = _now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  return throttled;\n}\n","import { spectate as spectateConfig } from '../../package.json';\nimport initAi2html from './ai2html-resizer';\n\n/**\n * Put all initializer scripts into this init() function\n */\n\nfunction init() {\n  initAi2html();\n}\n\n/**\n * Replace the section#main node with the article content\n */\n\nconst isOnSpectatorPage = window.location.host === 'www.columbiaspectator.com';\nconst isOnContributorPage = window.location.pathname.indexOf('/contributors') === 0;\n\nconst SECTION_MAIN_SELECTOR = 'section#main';\nconst ARTICLE_SELECTOR =\n  '.pb-f-article-article-body > .row > .col-xs-12 > .ab-article-body > .ab-article-content > article';\n\n// Replaces section#main with article\nfunction hoistArticle() {\n  // Replace section#main with article\n  const sectionMain = document.querySelector(SECTION_MAIN_SELECTOR);\n  const article = document.querySelector(ARTICLE_SELECTOR);\n  sectionMain.parentNode.replaceChild(article, sectionMain);\n\n  // Arc SSRs elements like links and meta tags in Spectate's index.html <head>\n  // into a paragraph, which takes up unwanted space thanks to Arc's CSS\n  const suspectParagraph = article.firstElementChild;\n  if (\n    [...suspectParagraph.children].some(el =>\n      ['META', 'LINK'].includes(el.tagName),\n    )\n  ) {\n    suspectParagraph.style.margin = 0;\n  }\n\n  init();\n}\n\n// Runs hoistArticle() and stops RAF when necessary elements exist.\n// Stops after 5 seconds of trying.\nconst TRY_TIME = 5000;\nlet start = null;\nfunction ready(timestamp) {\n  if (document.body && document.querySelector(SECTION_MAIN_SELECTOR)) {\n    hoistArticle();\n    return;\n  }\n  if (timestamp - (start || (start = timestamp)) < TRY_TIME) {\n    // If the body element isn't found, run ready() again at the next frame\n    window.requestAnimationFrame(ready);\n  } else {\n    // After 5 seconds, stop requesting frames and just use window.onload\n    console.log(\n      'Gave up replacing %s with article after %dms. Using window.onload.',\n      SECTION_MAIN_SELECTOR,\n      TRY_TIME,\n    );\n    window.onload = hoistArticle;\n  }\n}\n\n// Replace main page section with this project if we are on a Spectator story\n// page and the project is not an embed\nif (isOnSpectatorPage && !isOnContributorPage && !spectateConfig.IS_EMBED) {\n  window.requestAnimationFrame(ready);\n} else {\n  init();\n}\n\n/**\n * Disable stylesheets on contributor page. Stylesheets are included in the\n * server-side render and styles in files like news-ellipsis.scss\n * still override the site.\n */\n\nif (isOnSpectatorPage && isOnContributorPage) {\n  // Disable stylesheets\n  document\n    .querySelectorAll('.story-summary > .twolines > link')\n    .forEach(link => (link.disabled = true));\n\n  // Add styles to hide content preview\n  const styleSheet = document.createElement('style');\n  styleSheet.type = 'text/css';\n  styleSheet.innerText = '.story-summary > .twolines { display: none; }';\n  document.head.appendChild(styleSheet);\n}\n","import enterView from 'enter-view';\nimport textBalancer from 'text-balancer';\nimport './scripts/page';\n// import $ from 'jquery';\n// import {selectAll} from 'd3-selection';\nimport { spectate as spectateConfig } from '../package.json';\nconst { USE_NEWS_NAV, USE_EYE_NAV, USE_COVER_HED } = spectateConfig;\n\n// Fade in navbar at scroll trigger\n\nconst navbar = document.getElementById('navbar');\n\nif (USE_NEWS_NAV || USE_EYE_NAV || USE_COVER_HED) {\n  enterView({\n    selector: '.headline',\n    offset: 1,\n    enter: () => {\n      navbar.classList.remove('only-eye-logo');\n      navbar.classList.remove('hide-news-navbar');\n    },\n    exit: () => {\n      navbar.classList.remove('show-nav-links');\n      navbar.classList.add('only-eye-logo');\n      navbar.classList.add('hide-news-navbar');\n    },\n  });\n}\n\n// Mobile navbar hamburger trigger\n\nexport function hamburgerTrigger() {\n  navbar.classList.toggle('show-nav-links');\n}\n\n// Text balance headline, deck, and image captions\n\nif (window.innerWidth <= 460) {\n  textBalancer.balanceText('.headline, .deck, .image-caption-text');\n}\n\n// $( document ).ready(function() {\n// Don't need document.ready because script is already at the bottom of <body>\nfunction resizeSections() {\n  if (window.innerWidth <= 500) {\n    return;\n  }\n  for (const section of document.getElementsByClassName('section')) {\n    // We can select elements with vanilla JS, so we don't have to include all\n    // the D3 code in our build.\n    // selectAll('.section').style('height', window.innerWidth/2 + 200);\n    section.style.height = window.innerWidth / 2 + 200 + 'px';\n  }\n}\nresizeSections();\n// });\n\n// $( window ).resize(function() {\n// Prefer the vanilla resize event listener so we don't have to include all the jQuery\n// code in the build\nwindow.addEventListener('resize', resizeSections);\n// });\n"]}